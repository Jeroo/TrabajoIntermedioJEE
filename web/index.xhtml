<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./facelets/template_principal.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="content">     
        
        <h:form id="listadoProductos">
           <p:dataGrid var="productostienda" value="#{prodMB.listaProductostienda}" columns="3"
               rows="12" paginator="true" id="productostiendas"
               paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
               rowsPerPageTemplate="6,12,16">

               <f:facet name="header">
                   Productos en Venta
               </f:facet>

               <p:panel header="#{productostienda.codigoproducto} - #{productostienda.productospool.nombre} " style="text-align:center">
                   <h:panelGrid columns="1" style="width:100%">
                       <center><p:graphicImage url="resources/images/productos/#{productostienda.codigoproducto}.jpg" width="200" height="119" style="text-align: center"/></center>
                        
                       <h:outputText value="#{productostienda.productospool.descripcion}" /> 
                       <h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />
                       <!--p:commandLink update=":form:prodDetail" oncomplete="PF('carDialog').show()" title="View Detail">
                           <h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />
                           <f:setPropertyActionListener value="#{productostienda}" target="#{dataGridView.selectedproductostienda}" />
                       </p:commandLink-->
                   </h:panelGrid>
               </p:panel>
           </p:dataGrid>
           <p:dialog header="Car Info" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
               <p:outputPanel id="prodDetail" style="text-align:center;">
                   <p:panelGrid  columns="2" rendered="#{not empty dataGridView.selectedproductostienda}" columnClasses="label,value">
                       <f:facet name="header">
                           <p:graphicImage name="demo/images/car/#{dataGridView.selectedproductostienda.brand}-big.gif"/> 
                       </f:facet>

                       <h:outputText value="Id:" />
                       <h:outputText value="#{dataGridView.selectedproductostienda.id}" />

                       <h:outputText value="Year" />
                       <h:outputText value="#{dataGridView.selectedproductostienda.year}" />

                       <h:outputText value="Color:" />
                       <h:outputText value="#{dataGridView.selectedproductostienda.color}" style="color:#{dataGridView.selectedproductostienda.color}"/>

                       <h:outputText value="Price" />
                       <h:outputText value="$#{dataGridView.selectedproductostienda.price}" />
                   </p:panelGrid>
               </p:outputPanel>
           </p:dialog>
       </h:form>
        
    </ui:define>

</ui:composition>
